import Head from 'next/head'
import classes from "../styles/Home.module.css";
import UserForm from '../components/UserForm/UserForm'

export default function Home({results}) {
  return (
    <div className={classes.container}>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <UserForm results={results} />
    </div>
  )
}

export async function getServerSideProps(){
  try {
    const res = await fetch("https://jsonplaceholder.typicode.com/users")
    const data = await res.json();

    return {
      props:{
        results: data
      }
    };
  } catch (error) {
    console.log(error)
  }

}